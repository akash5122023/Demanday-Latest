<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>BizPlus ERP | Plans & Pricing</title>
    <link rel="stylesheet" href="Content/site/site.css" />
    <style>
        :root {
            --brand-primary: #2563eb;
            --brand-primary-dark: #1d4ed8;
            --brand-accent: #14b8a6;
            --neutral-050: #f8fafc;
            --neutral-100: #eef2ff;
            --neutral-200: #dbe4ff;
            --neutral-600: #4b5563;
            --neutral-800: #0f172a;
            --success: #15803d;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: linear-gradient(180deg, #f4f6ff 0%, #ffffff 38%, #f6f9ff 100%);
            margin: 0;
            color: var(--neutral-800);
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        .pricing-header {
            position: relative;
            text-align: center;
            padding: 92px 24px 72px;
            color: #fff;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.95), rgba(20, 184, 166, 0.85));
            overflow: hidden;
        }

        .pricing-header::after {
            content: '';
            position: absolute;
            inset: -160px -45% -120px;
            background: radial-gradient(68% 68% at 50% 30%, rgba(255, 255, 255, 0.28), transparent 72%);
            opacity: 0.65;
        }

        .pricing-header > * {
            position: relative;
            z-index: 1;
        }

        .pricing-header .logo {
            width: 150px;
            height: 150px;
            margin: 0 auto 28px auto;
            background: transparent url('Content/site/images/AdvanceCRM1.png') no-repeat center center / contain;
            filter: drop-shadow(0 18px 28px rgba(15, 23, 42, 0.25));
        }

        .pricing-header h1 {
            font-size: 40px;
            font-weight: 700;
            margin: 0 0 18px;
            letter-spacing: 0.01em;
        }

        .pricing-header p {
            max-width: 760px;
            margin: 0 auto;
            color: rgba(255, 255, 255, 0.86);
            line-height: 1.7;
            font-size: 17px;
        }

        .plan-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 26px;
            max-width: 1100px;
            margin: -60px auto 60px;
            padding: 0 22px;
        }

        .plan-card {
            position: relative;
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(6px);
            border-radius: 22px;
            box-shadow: 0 24px 48px rgba(15, 23, 42, 0.14);
            padding: 36px 32px 42px;
            border: 1px solid rgba(37, 99, 235, 0.08);
            overflow: hidden;
            transition: transform 0.28s ease, box-shadow 0.28s ease;
        }

        .plan-card::before {
            content: '';
            position: absolute;
            top: -70px;
            right: -70px;
            width: 170px;
            height: 170px;
            background: radial-gradient(circle, rgba(37, 99, 235, 0.25), transparent 68%);
        }

        .plan-card > * {
            position: relative;
            z-index: 1;
        }

        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 28px 60px rgba(15, 23, 42, 0.18);
        }

        .plan-card.recommended {
            border: 2px solid rgba(37, 99, 235, 0.6);
        }

        .plan-card .badge {
            position: absolute;
            top: 24px;
            right: 24px;
            background: rgba(37, 99, 235, 0.15);
            color: #1e3a8a;
            font-weight: 600;
            padding: 6px 14px;
            border-radius: 999px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .plan-card h2 {
            font-size: 24px;
            margin: 0 0 10px;
        }

        .plan-card .plan-subtitle {
            color: var(--neutral-600);
            font-size: 15px;
            margin-bottom: 20px;
        }

        .plan-card .price {
            font-size: 36px;
            font-weight: 700;
            color: var(--brand-primary-dark);
            margin: 12px 0 6px;
        }

        .plan-card .price span {
            font-size: 15px;
            color: var(--neutral-600);
            font-weight: 500;
        }

        .plan-card ul {
            list-style: none;
            padding: 0;
            margin: 24px 0 30px;
            text-align: left;
        }

        .plan-card li {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            font-size: 15px;
            color: var(--neutral-600);
        }

        .plan-card li .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--brand-primary);
            flex-shrink: 0;
        }

        .plan-card .trial-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            background: rgba(20, 184, 166, 0.16);
            color: #0f766e;
            border-radius: 999px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 24px;
        }

        .plan-card button {
            width: 100%;
            border: none;
            border-radius: 999px;
            padding: 16px 22px;
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            background: linear-gradient(120deg, var(--brand-primary) 0%, var(--brand-accent) 100%);
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 16px 34px rgba(37, 99, 235, 0.28);
        }

        .plan-card button:hover {
            transform: translateY(-2px);
            box-shadow: 0 18px 40px rgba(37, 99, 235, 0.32);
        }

        .table-wrapper {
            overflow-x: auto;
            margin: 20px auto 60px;
            max-width: 1100px;
            border-radius: 22px;
            background: #fff;
            box-shadow: 0 24px 50px rgba(15, 23, 42, 0.12);
            padding: 12px;
        }

        table.pricing-table {
            width: 100%;
            border-collapse: collapse;
            border-radius: 18px;
            overflow: hidden;
        }

        table.pricing-table thead th {
            background: rgba(37, 99, 235, 0.08);
            color: var(--neutral-800);
            font-weight: 600;
            padding: 16px 18px;
            text-align: left;
            font-size: 15px;
        }

        table.pricing-table tbody td,
        table.pricing-table tbody th {
            border-bottom: 1px solid rgba(209, 213, 219, 0.6);
            padding: 16px 18px;
            font-size: 14px;
            color: var(--neutral-600);
        }

        table.pricing-table tbody tr:hover {
            background: rgba(37, 99, 235, 0.05);
        }

        .addons-section {
            max-width: 800px;
            margin: 0 auto 80px;
            text-align: center;
            padding: 0 20px;
        }

        .addons-section h2 {
            font-size: 28px;
            margin-bottom: 12px;
        }

        .addons-section p.addons-intro {
            color: var(--neutral-600);
            margin-bottom: 18px;
        }

        .addons-section ul {
            list-style: none;
            padding: 0;
            margin: 0 0 18px;
            display: grid;
            gap: 8px;
        }

        .addons-section li {
            color: var(--neutral-600);
            font-size: 15px;
        }

        .addons-section .addons-note {
            color: var(--neutral-600);
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .pricing-header {
                padding: 72px 18px 60px;
            }

            .plan-grid {
                margin: -40px auto 40px;
            }

            .plan-card {
                padding: 32px 26px 36px;
            }
        }
    </style>
</head>
<body>
    <header class="pricing-header">
        <div class="logo" aria-hidden="true"></div>
        <h1>Plans crafted for ambitious teams</h1>
        <p>Transparent pricing tailored for sales-led teams. Get started in minutes with a full-featured free trial - no credit card required.</p>
    </header>

    <section class="plan-grid">
        <article class="plan-card" data-plan="Starter ERP">
            <h2>Starter ERP</h2>
            <p class="plan-subtitle">Ideal for small teams starting their organised sales journey.</p>
            <div class="price"><span class="price-amount" data-plan-price="Starter ERP">₹1,000</span> <span>/ year</span></div>
            <div class="trial-badge" data-plan-trial="Starter ERP">Free 15-day trial</div>
            <ul>
                <li><span class="dot"></span>Lead & Enquiry tracking</li>
                <li><span class="dot"></span>Quotation workflows</li>
                <li><span class="dot"></span>Task & reminder board</li>
            </ul>
            <button type="button" class="select-plan" data-plan="Starter ERP">Sign up for free</button>
        </article>

        <article class="plan-card" data-plan="ERP + Basic Accounting">
            <div class="badge">Popular</div>
            <h2>ERP + Basic Accounting</h2>
            <p class="plan-subtitle">Everything in Starter plus billing & essential finance reports.</p>
            <div class="price"><span class="price-amount" data-plan-price="ERP + Basic Accounting">₹10,000</span> <span>/ year</span></div>
            <div class="trial-badge" data-plan-trial="ERP + Basic Accounting">Free 15-day trial</div>
            <ul>
                <li><span class="dot"></span>Complete ERP toolkit</li>
                <li><span class="dot"></span>GST-ready invoicing suite</li>
                <li><span class="dot"></span>Cashbook & ledger insights</li>
            </ul>
            <button type="button" class="select-plan" data-plan="ERP + Basic Accounting">Sign up for free</button>
        </article>

        <article class="plan-card recommended" data-plan="BizPlus All-in-One">
            <div class="badge">Best Value</div>
            <h2>BizPlus All-in-One</h2>
            <p class="plan-subtitle">Advanced service, AMC & after-sales automation for scaling teams.</p>
            <div class="price"><span class="price-amount" data-plan-price="BizPlus All-in-One">₹15,000</span> <span>/ year</span></div>
            <div class="trial-badge" data-plan-trial="BizPlus All-in-One">Free 15-day trial</div>
            <ul>
                <li><span class="dot"></span>Everything in ERP + Accounting</li>
                <li><span class="dot"></span>Complaint & ticket management</li>
                <li><span class="dot"></span>AMC renewals & service automation</li>
            </ul>
            <button type="button" class="select-plan" data-plan="BizPlus All-in-One">Sign up for free</button>
        </article>
    </section>

    <div class="table-wrapper">
        <table class="pricing-table">
            <thead>
                <tr>
                    <th>Capabilities</th>
                    <th>Starter ERP</th>
                    <th>ERP + Basic Accounting</th>
                    <th>BizPlus All-in-One</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>Enquiry Management</th>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Quotation Management</th>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Task Tracking</th>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Contact Management</th>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Integrations (WhatsApp, Email, Social, etc.)</th>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Invoicing</th>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Purchase Management</th>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Cashbook &amp; Ledgers</th>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Financial Reports</th>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Complaint Management System (CMS)</th>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>AMC Management</th>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Ticket Management (After-Sales Service)</th>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Service &amp; Support Management</th>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-cross">&#10007;</span></td>
                    <td><span class="icon-check">&#10003;</span></td>
                </tr>
                <tr>
                    <th>Users Included</th>
                    <td>3 Users</td>
                    <td>3 Users</td>
                    <td>3 Users</td>
                </tr>
                <tr>
                    <th>Support</th>
                    <td>Email Support</td>
                    <td>Email Support</td>
                    <td>Priority Support</td>
                </tr>
            </tbody>
        </table>
    </div>

    <section class="addons-section">
        <h2>Popular Add-Ons</h2>
        <p class="addons-intro">Enhance any plan with battle-tested integrations and services:</p>
        <ul>
            <li><strong>IndiaMART</strong> real-time lead sync</li>
            <li><strong>Facebook &amp; Google Ads</strong> lead capture</li>
            <li><strong>WhatsApp Business</strong> conversational workflows</li>
            <li><strong>Custom integrations</strong> tailored to your stack</li>
        </ul>
        <p class="addons-note">Add-ons are billed separately. Speak with our onboarding team for pricing and activation.</p>
    </section>

    <script>
        document.querySelectorAll('.select-plan').forEach(function (btn) {
            btn.addEventListener('click', function () {
                var plan = this.getAttribute('data-plan');
                window.location.href = '/Account/SignUp?plan=' + encodeURIComponent(plan);
            });
        });

        (function loadPlanPricing() {
            fetch('/api/public/plan-pricing', { cache: 'no-cache' })
                .then(function (response) { return response.ok ? response.json() : null; })
                .then(function (data) {
                    if (!data || typeof data !== 'object') {
                        return;
                    }

                    var plans = data.plans || {};
                    var currencySymbol = (data.currencySymbol || '').toString();
                    var currencyCode = (data.currencyCode || '').toString();

                    var findPlanValue = function (planName) {
                        if (!planName || !plans) {
                            return null;
                        }

                        if (Object.prototype.hasOwnProperty.call(plans, planName)) {
                            return plans[planName];
                        }

                        var lowered = planName.toString().toLowerCase();
                        for (var key in plans) {
                            if (!Object.prototype.hasOwnProperty.call(plans, key)) {
                                continue;
                            }

                            if (key.toLowerCase() === lowered) {
                                return plans[key];
                            }
                        }

                        return null;
                    };

                    var formatAmount = function (amount) {
                        if (typeof amount !== 'number' || !isFinite(amount)) {
                            return null;
                        }

                        var hasDecimals = Math.abs(amount % 1) > 1e-6;
                        var formatted = amount.toLocaleString(undefined, {
                            minimumFractionDigits: hasDecimals ? 2 : 0,
                            maximumFractionDigits: hasDecimals ? 2 : 0
                        });

                        if (!formatted) {
                            return null;
                        }

                        if (currencySymbol) {
                            return currencySymbol + formatted;
                        }

                        if (currencyCode) {
                            return currencyCode + ' ' + formatted;
                        }

                        return formatted;
                    };

                    document.querySelectorAll('[data-plan-price]').forEach(function (el) {
                        var planName = el.getAttribute('data-plan-price');
                        if (!planName) {
                            return;
                        }

                        var rawValue = findPlanValue(planName);
                        if (rawValue === null || typeof rawValue === 'undefined') {
                            return;
                        }

                        var amount = typeof rawValue === 'number' ? rawValue : parseFloat(rawValue);
                        if (isNaN(amount)) {
                            return;
                        }

                        var formatted = formatAmount(amount);
                        if (formatted) {
                            el.textContent = formatted;
                        }
                    });
                })
                .catch(function () {
                    // ignore network or parsing failures - fallback values stay in place
                });
        })();

        (function loadTrialDurations() {
            fetch('/api/public/trial-settings', { cache: 'no-cache' })
                .then(function (response) { return response.ok ? response.json() : null; })
                .then(function (data) {
                    if (!data) {
                        return;
                    }

                    var defaultDays = parseInt(data.defaultDays, 10);
                    var planMap = data.plans || {};

                    document.querySelectorAll('[data-plan-trial]').forEach(function (el) {
                        var planKey = el.getAttribute('data-plan-trial');
                        var specific = planMap[planKey];
                        var days = parseInt(specific, 10);
                        if (isNaN(days) || days <= 0) {
                            days = defaultDays;
                        }

                        if (!isNaN(days) && days > 0) {
                            el.textContent = 'Free ' + days + '-day trial';
                        }
                    });
                })
                .catch(function () {
                    // graceful degradation - keep default labels
                });
        })();
    </script>
</body>
</html>
